<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zhaochuninhefei.orm.comparison.mybatis.dao.PoOrderMainMapper">
    <resultMap id="BaseResultMap" type="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="order_no" jdbcType="VARCHAR" property="orderNo"/>
        <result column="user_id" jdbcType="BIGINT" property="userId"/>
        <result column="region_code" jdbcType="VARCHAR" property="regionCode"/>
        <result column="total_amount" jdbcType="DECIMAL" property="totalAmount"/>
        <result column="discount_amount" jdbcType="DECIMAL" property="discountAmount"/>
        <result column="actual_amount" jdbcType="DECIMAL" property="actualAmount"/>
        <result column="order_status" jdbcType="TINYINT" property="orderStatus"/>
        <result column="payment_method" jdbcType="TINYINT" property="paymentMethod"/>
        <result column="payment_time" jdbcType="OTHER" property="paymentTime"
                typeHandler="org.apache.ibatis.type.LocalDateTimeTypeHandler"/>
        <result column="ship_time" jdbcType="OTHER" property="shipTime"
                typeHandler="org.apache.ibatis.type.LocalDateTimeTypeHandler"/>
        <result column="finish_time" jdbcType="OTHER" property="finishTime"
                typeHandler="org.apache.ibatis.type.LocalDateTimeTypeHandler"/>
        <result column="receiver_name" jdbcType="VARCHAR" property="receiverName"/>
        <result column="receiver_phone" jdbcType="VARCHAR" property="receiverPhone"/>
        <result column="receiver_address" jdbcType="VARCHAR" property="receiverAddress"/>
        <result column="create_time" jdbcType="OTHER" property="createTime"
                typeHandler="org.apache.ibatis.type.LocalDateTimeTypeHandler"/>
        <result column="update_time" jdbcType="OTHER" property="updateTime"
                typeHandler="org.apache.ibatis.type.LocalDateTimeTypeHandler"/>
    </resultMap>
    <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs"
               type="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        <result column="remark" jdbcType="LONGVARCHAR" property="remark"/>
    </resultMap>
    <sql id="Example_Where_Clause">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.paymentTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.shipTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.finishTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.createTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.updateTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.paymentTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.shipTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.finishTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.createTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                        <foreach collection="criteria.updateTimeCriteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition}
                                    #{criterion.value,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler} and
                                    #{criterion.secondValue,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        id, order_no, user_id, region_code, total_amount, discount_amount, actual_amount,
        order_status, payment_method, payment_time, ship_time, finish_time, receiver_name,
        receiver_phone, receiver_address, create_time, update_time
    </sql>
    <sql id="Blob_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        remark
    </sql>
    <select id="selectByExampleWithBLOBs"
            parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMainExample"
            resultMap="ResultMapWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        'true' as QUERYID,
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from order_main
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByExample" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMainExample"
            resultMap="BaseResultMap">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        'true' as QUERYID,
        <include refid="Base_Column_List"/>
        from order_main
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from order_main
        where id = #{id,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        delete from order_main
        where id = #{id,jdbcType=BIGINT}
    </delete>
    <delete id="deleteByExample" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMainExample">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        delete from order_main
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </delete>
    <insert id="insert" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into order_main (order_no, user_id, region_code,
        total_amount, discount_amount, actual_amount,
        order_status, payment_method, payment_time,
        ship_time,
        finish_time,
        receiver_name, receiver_phone, receiver_address,
        create_time,
        update_time,
        remark)
        values (#{orderNo,jdbcType=VARCHAR}, #{userId,jdbcType=BIGINT}, #{regionCode,jdbcType=VARCHAR},
        #{totalAmount,jdbcType=DECIMAL}, #{discountAmount,jdbcType=DECIMAL}, #{actualAmount,jdbcType=DECIMAL},
        #{orderStatus,jdbcType=TINYINT}, #{paymentMethod,jdbcType=TINYINT},
        #{paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        #{shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        #{finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        #{receiverName,jdbcType=VARCHAR}, #{receiverPhone,jdbcType=VARCHAR}, #{receiverAddress,jdbcType=VARCHAR},
        #{createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        #{updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        #{remark,jdbcType=LONGVARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        <selectKey keyProperty="id" order="AFTER" resultType="java.lang.Long">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into order_main
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="orderNo != null">
                order_no,
            </if>
            <if test="userId != null">
                user_id,
            </if>
            <if test="regionCode != null">
                region_code,
            </if>
            <if test="totalAmount != null">
                total_amount,
            </if>
            <if test="discountAmount != null">
                discount_amount,
            </if>
            <if test="actualAmount != null">
                actual_amount,
            </if>
            <if test="orderStatus != null">
                order_status,
            </if>
            <if test="paymentMethod != null">
                payment_method,
            </if>
            <if test="paymentTime != null">
                payment_time,
            </if>
            <if test="shipTime != null">
                ship_time,
            </if>
            <if test="finishTime != null">
                finish_time,
            </if>
            <if test="receiverName != null">
                receiver_name,
            </if>
            <if test="receiverPhone != null">
                receiver_phone,
            </if>
            <if test="receiverAddress != null">
                receiver_address,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="updateTime != null">
                update_time,
            </if>
            <if test="remark != null">
                remark,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="orderNo != null">
                #{orderNo,jdbcType=VARCHAR},
            </if>
            <if test="userId != null">
                #{userId,jdbcType=BIGINT},
            </if>
            <if test="regionCode != null">
                #{regionCode,jdbcType=VARCHAR},
            </if>
            <if test="totalAmount != null">
                #{totalAmount,jdbcType=DECIMAL},
            </if>
            <if test="discountAmount != null">
                #{discountAmount,jdbcType=DECIMAL},
            </if>
            <if test="actualAmount != null">
                #{actualAmount,jdbcType=DECIMAL},
            </if>
            <if test="orderStatus != null">
                #{orderStatus,jdbcType=TINYINT},
            </if>
            <if test="paymentMethod != null">
                #{paymentMethod,jdbcType=TINYINT},
            </if>
            <if test="paymentTime != null">
                #{paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="shipTime != null">
                #{shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="finishTime != null">
                #{finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="receiverName != null">
                #{receiverName,jdbcType=VARCHAR},
            </if>
            <if test="receiverPhone != null">
                #{receiverPhone,jdbcType=VARCHAR},
            </if>
            <if test="receiverAddress != null">
                #{receiverAddress,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="updateTime != null">
                #{updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="remark != null">
                #{remark,jdbcType=LONGVARCHAR},
            </if>
        </trim>
    </insert>
    <select id="countByExample" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMainExample"
            resultType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        select count(*) from order_main
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        update order_main
        <set>
            <if test="row.id != null">
                id = #{row.id,jdbcType=BIGINT},
            </if>
            <if test="row.orderNo != null">
                order_no = #{row.orderNo,jdbcType=VARCHAR},
            </if>
            <if test="row.userId != null">
                user_id = #{row.userId,jdbcType=BIGINT},
            </if>
            <if test="row.regionCode != null">
                region_code = #{row.regionCode,jdbcType=VARCHAR},
            </if>
            <if test="row.totalAmount != null">
                total_amount = #{row.totalAmount,jdbcType=DECIMAL},
            </if>
            <if test="row.discountAmount != null">
                discount_amount = #{row.discountAmount,jdbcType=DECIMAL},
            </if>
            <if test="row.actualAmount != null">
                actual_amount = #{row.actualAmount,jdbcType=DECIMAL},
            </if>
            <if test="row.orderStatus != null">
                order_status = #{row.orderStatus,jdbcType=TINYINT},
            </if>
            <if test="row.paymentMethod != null">
                payment_method = #{row.paymentMethod,jdbcType=TINYINT},
            </if>
            <if test="row.paymentTime != null">
                payment_time =
                #{row.paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="row.shipTime != null">
                ship_time = #{row.shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="row.finishTime != null">
                finish_time =
                #{row.finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="row.receiverName != null">
                receiver_name = #{row.receiverName,jdbcType=VARCHAR},
            </if>
            <if test="row.receiverPhone != null">
                receiver_phone = #{row.receiverPhone,jdbcType=VARCHAR},
            </if>
            <if test="row.receiverAddress != null">
                receiver_address = #{row.receiverAddress,jdbcType=VARCHAR},
            </if>
            <if test="row.createTime != null">
                create_time =
                #{row.createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="row.updateTime != null">
                update_time =
                #{row.updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="row.remark != null">
                remark = #{row.remark,jdbcType=LONGVARCHAR},
            </if>
        </set>
        <if test="example != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExampleWithBLOBs" parameterType="map">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        update order_main
        set id = #{row.id,jdbcType=BIGINT},
        order_no = #{row.orderNo,jdbcType=VARCHAR},
        user_id = #{row.userId,jdbcType=BIGINT},
        region_code = #{row.regionCode,jdbcType=VARCHAR},
        total_amount = #{row.totalAmount,jdbcType=DECIMAL},
        discount_amount = #{row.discountAmount,jdbcType=DECIMAL},
        actual_amount = #{row.actualAmount,jdbcType=DECIMAL},
        order_status = #{row.orderStatus,jdbcType=TINYINT},
        payment_method = #{row.paymentMethod,jdbcType=TINYINT},
        payment_time = #{row.paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        ship_time = #{row.shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        finish_time = #{row.finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        receiver_name = #{row.receiverName,jdbcType=VARCHAR},
        receiver_phone = #{row.receiverPhone,jdbcType=VARCHAR},
        receiver_address = #{row.receiverAddress,jdbcType=VARCHAR},
        create_time = #{row.createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        update_time = #{row.updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        remark = #{row.remark,jdbcType=LONGVARCHAR}
        <if test="example != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        update order_main
        set id = #{row.id,jdbcType=BIGINT},
        order_no = #{row.orderNo,jdbcType=VARCHAR},
        user_id = #{row.userId,jdbcType=BIGINT},
        region_code = #{row.regionCode,jdbcType=VARCHAR},
        total_amount = #{row.totalAmount,jdbcType=DECIMAL},
        discount_amount = #{row.discountAmount,jdbcType=DECIMAL},
        actual_amount = #{row.actualAmount,jdbcType=DECIMAL},
        order_status = #{row.orderStatus,jdbcType=TINYINT},
        payment_method = #{row.paymentMethod,jdbcType=TINYINT},
        payment_time = #{row.paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        ship_time = #{row.shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        finish_time = #{row.finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        receiver_name = #{row.receiverName,jdbcType=VARCHAR},
        receiver_phone = #{row.receiverPhone,jdbcType=VARCHAR},
        receiver_address = #{row.receiverAddress,jdbcType=VARCHAR},
        create_time = #{row.createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        update_time = #{row.updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
        <if test="example != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByPrimaryKeySelective" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        update order_main
        <set>
            <if test="orderNo != null">
                order_no = #{orderNo,jdbcType=VARCHAR},
            </if>
            <if test="userId != null">
                user_id = #{userId,jdbcType=BIGINT},
            </if>
            <if test="regionCode != null">
                region_code = #{regionCode,jdbcType=VARCHAR},
            </if>
            <if test="totalAmount != null">
                total_amount = #{totalAmount,jdbcType=DECIMAL},
            </if>
            <if test="discountAmount != null">
                discount_amount = #{discountAmount,jdbcType=DECIMAL},
            </if>
            <if test="actualAmount != null">
                actual_amount = #{actualAmount,jdbcType=DECIMAL},
            </if>
            <if test="orderStatus != null">
                order_status = #{orderStatus,jdbcType=TINYINT},
            </if>
            <if test="paymentMethod != null">
                payment_method = #{paymentMethod,jdbcType=TINYINT},
            </if>
            <if test="paymentTime != null">
                payment_time =
                #{paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="shipTime != null">
                ship_time = #{shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="finishTime != null">
                finish_time = #{finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="receiverName != null">
                receiver_name = #{receiverName,jdbcType=VARCHAR},
            </if>
            <if test="receiverPhone != null">
                receiver_phone = #{receiverPhone,jdbcType=VARCHAR},
            </if>
            <if test="receiverAddress != null">
                receiver_address = #{receiverAddress,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                create_time = #{createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="updateTime != null">
                update_time = #{updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
            </if>
            <if test="remark != null">
                remark = #{remark,jdbcType=LONGVARCHAR},
            </if>
        </set>
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        update order_main
        set order_no = #{orderNo,jdbcType=VARCHAR},
        user_id = #{userId,jdbcType=BIGINT},
        region_code = #{regionCode,jdbcType=VARCHAR},
        total_amount = #{totalAmount,jdbcType=DECIMAL},
        discount_amount = #{discountAmount,jdbcType=DECIMAL},
        actual_amount = #{actualAmount,jdbcType=DECIMAL},
        order_status = #{orderStatus,jdbcType=TINYINT},
        payment_method = #{paymentMethod,jdbcType=TINYINT},
        payment_time = #{paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        ship_time = #{shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        finish_time = #{finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        receiver_name = #{receiverName,jdbcType=VARCHAR},
        receiver_phone = #{receiverPhone,jdbcType=VARCHAR},
        receiver_address = #{receiverAddress,jdbcType=VARCHAR},
        create_time = #{createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        update_time = #{updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        remark = #{remark,jdbcType=LONGVARCHAR}
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.zhaochuninhefei.orm.comparison.mybatis.po.PoOrderMain">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Wed Dec 31 11:56:54 CST 2025.
        -->
        update order_main
        set order_no = #{orderNo,jdbcType=VARCHAR},
        user_id = #{userId,jdbcType=BIGINT},
        region_code = #{regionCode,jdbcType=VARCHAR},
        total_amount = #{totalAmount,jdbcType=DECIMAL},
        discount_amount = #{discountAmount,jdbcType=DECIMAL},
        actual_amount = #{actualAmount,jdbcType=DECIMAL},
        order_status = #{orderStatus,jdbcType=TINYINT},
        payment_method = #{paymentMethod,jdbcType=TINYINT},
        payment_time = #{paymentTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        ship_time = #{shipTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        finish_time = #{finishTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        receiver_name = #{receiverName,jdbcType=VARCHAR},
        receiver_phone = #{receiverPhone,jdbcType=VARCHAR},
        receiver_address = #{receiverAddress,jdbcType=VARCHAR},
        create_time = #{createTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler},
        update_time = #{updateTime,jdbcType=OTHER,typeHandler=org.apache.ibatis.type.LocalDateTimeTypeHandler}
        where id = #{id,jdbcType=BIGINT}
    </update>

    <select id="complexQueryByPage" resultType="com.zhaochuninhefei.orm.comparison.dto.OrderDetailResult">
        WITH category_sales AS (
            SELECT
                pc.id AS category_id,
                pc.category_name,
                COUNT(od.id) AS sales_count,
                SUM(od.actual_price) AS total_sales
            FROM product_category pc
            INNER JOIN product p ON pc.id = p.category_id
            INNER JOIN order_detail od ON p.id = od.product_id
            INNER JOIN order_main om ON om.id = od.order_id
            WHERE om.region_code = #{regionCode,jdbcType=VARCHAR}
            GROUP BY pc.id, pc.category_name
        )
        SELECT
            om.id AS orderId,
            om.order_no AS orderNo,
            c.customer_name AS customerName,
            CAST(c.customer_type AS UNSIGNED) AS customerType,
            r.region_name AS regionName,
            CAST(om.total_amount AS DOUBLE) AS totalAmount,
            CAST(om.actual_amount AS DOUBLE) AS actualAmount,
            CAST(om.order_status AS UNSIGNED) AS orderStatus,
            COUNT(od.id) AS detailCount,
            CAST(SUM(od.actual_price) AS DOUBLE) AS detailTotalAmount,
            p.product_name AS productName,
            pc.category_name AS categoryName,
            cs.sales_count AS categorySalesCount,
            CAST(cs.total_sales AS DOUBLE) AS categoryTotalSales,
            om.receiver_address AS receiverAddress,
            DATE_FORMAT(om.create_time, '%Y-%m-%d %H:%i:%s') AS createTime
        FROM order_main om
        INNER JOIN customer c ON om.user_id = c.id
        INNER JOIN order_detail od ON om.id = od.order_id
        INNER JOIN product p ON od.product_id = p.id
        LEFT JOIN product_category pc ON p.category_id = pc.id
        LEFT JOIN region r ON om.region_code = r.region_code
        LEFT JOIN category_sales cs ON pc.id = cs.category_id
        WHERE om.region_code = #{regionCode,jdbcType=VARCHAR}
        GROUP BY om.id, om.order_no, c.customer_name, c.customer_type,
            r.region_name, om.total_amount, om.actual_amount, om.order_status,
            p.product_name, pc.category_name,
            cs.sales_count, cs.total_sales,
            om.receiver_address, om.create_time
        HAVING (SUM(od.actual_price) > #{minActualPriceSum})
    </select>
</mapper>